// charts-local.js (small helper)
window.localCharts = (function(){ function drawBar(canvas, labels, values, opts){ const ctx = canvas.getContext('2d'); ctx.clearRect(0,0,canvas.width,canvas.height); const w=canvas.width,h=canvas.height,pad=28; const maxv = Math.max(1,...values); const barW = (w-2*pad)/(labels.length||1) - 10; ctx.font='11px sans-serif'; for(let i=0;i<labels.length;i++){ const x = pad + i*(barW+10); const barH = (values[i]/maxv)*(h-2*pad); ctx.fillStyle = opts?.color || '#FFD166'; ctx.fillRect(x, h-pad-barH, barW, barH); ctx.fillStyle = 'white'; ctx.fillText(labels[i], x, h-6); ctx.fillText(values[i], x, h-pad-barH-6); } } function drawLine(canvas, labels, values, opts){ const ctx = canvas.getContext('2d'); ctx.clearRect(0,0,canvas.width,canvas.height); const w=canvas.width,h=canvas.height,pad=28; const maxv = Math.max(1,...values); ctx.beginPath(); for(let i=0;i<values.length;i++){ const x = pad + i*((w-2*pad)/(values.length-1 || 1)); const y = h-pad - (values[i]/maxv)*(h-2*pad); if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y); } ctx.strokeStyle = opts?.color || '#7C3AED'; ctx.lineWidth = 3; ctx.stroke(); } return { drawBar, drawLine }; })();